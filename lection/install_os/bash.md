# Работа в командном интерпритаторе bash и команды для базовой настройки

## Командные интерпретаторы

Существует **два** варианта построения пользовательского интерфейса - **графический** (**GUI**) и **командной строки** (**CLI**).

- **Графический интерфейс** **ориентирован** на **интуитивно-понятное** *управление* и *взаимодействие* с **пользователем** с помощью визуальных элементов и манипулятора мышь либо сенсорного экрана. **GUI** является **более сложным** **в разработке** и **требует** **большего количества вычислительных ресурсов**.
- **Интерфейс командной строки** **строится** **на взаимодействие с ЭВМ** с помощью **ввода** **текстовых строк**, **содержащих** *команду* и её *параметры*. Благодаря **взаимодействию** с ЭВМ с помощью **текстовых строк** интерфейс командной строки позволяет очень легко **производить автоматизацию** *частых* или *массовых* действий. Для этого можно **использовать** **скрипты**, содержащие последовательность *команд* и управляющие *конструкции*, аналогичные языкам программирования высокого уровня.

Существует **множество** **интерпретаторов** такие как: *bash*, *dash*, *ksh*, *csh*, *zsh* *и другие*.

## Основные команды для работы в терминале

- `cd` - **смена** текущего **каталога**
- `ls` - **просмотр** содержимого **каталога** (без параметров - текущего)
- `rm` - **удаление** **объекта** файловой системы
- `mkdir` - **создание** **каталога**
- `rmdir` - **удаление** **каталога** (можно заменить на **`rm - r`**)
- `find` - **поиск** **объектов** в файловой системе
- `nano` - **простой текстовый редактор**. В качестве **параметра** указывается **имя редактируемого файла**. Если **файла** **нет**, то он **создаётся** при записи изменений
- `man` - **показывает** **страницы со справкой** по какой-либо программе (**имя программы** передаётся в качестве **параметра**)

**Некторое команды** **требуют** указать **абсолютный путь** к исполняемому файлу, либо **относительный**, либо если вы в нем то просто **`.`**.

## Сетевые настройки

- `ip` - для **ручного** управления **сетевыми настройками** используется **утилита**. У неё есть **обязательный параметр**, который указывает, с какими настройками мы **хотим** работат
  - `ip addr` - **работает** с **адресами** для IP протокола
  - `ip link` - с **настройками** протоколов **канального уровня**
  - `ip route` - с **маршрутами**
- `ipconfig` - **кроме `ip`** существует и эта **утилита**. (считается устаревшим)
- `arp` - для работы с **протоколом arp** в **Linux**. Она может понадобится для **просмотра содержимого** *arp кеша* и его *очистки*
- `ping` и `traceroute` - **утилиты** с помощью которых осуществляется **проверка работы сети**
  - `ping` - позволяет **проверить**, **доходит ли** до удалённого **узла** специальный **диагностический пакет**
  - `traceroute` - использует **аналогичные** **сетевые пакеты**, что и **`ping`**, но позволяет **просмотреть** все **промежуточные маршрутизаторы** на пути к удалённой машине
- `nslookup` - для **проверки** работы службы **DNS**, которая осуществляет **обращение** к **DNS серверу** и **преобразование** из **IP адреса** в **символьное имя** и обратно или **запрос** к записям типа **`srv`** или **`mx`**. (существует более **функциональная** версия этой утилиты - **`dig`**)

## Работа с пользователями

- `adduser`/`addgroup`/`deluser`/`useradd`/`usermod` - работа с пользователями и группами
- `passwd` - изменение паролей
- `mkpasswd` - создание хешей паролей

## Дополнительные возможности

Часть **настроек** можно **передавать** программам **в виде** **переменных окружения**. По функционалу они **аналогичны** **переменным** **в языках программирования**. Чтобы задать переменную окружения в ОС, нужно написать:

`export MYVAR=value`

**Выбор имени** переменных имеет те же правила, что и для объектов **файловой системы**. **Для использования** **переменных окружения** в качестве параметров команд или в других конструкциях **используется запись** их имени с префиксом **`$`**. Пример:

`echo $MYVAR`

Для **отслеживания** *запущенных программ* и их *активности* в **Linux** используются 2 утилиты - *ps* и *top*

- `ps` -  выводит **список запущенных процессов**
- `top` - показывает **список запущенных процессов** с указанием *потребления ресурсов* и *общей загрузки системы*

**`bash`** позволяет организовать работу с **несколькими** **программами** одновременно. Для **отправки** **программы** **в фоновый режим** используется комбинация клавиш **`Ctrl-Z`**.

- `jobs` - **утилита** для **просмотра** запущенных **в фоне** **программ**
- `fg` - **утилита** с помощью которой, **можно подключить** к запущенной в фоне **программе** и **продолжить** **работу** с ней

**При выходе** из текущей сессии терминала все запущенные из неё **программы** **будут закрыты**.

- `>>`, `>`, `<`, `<<`, `|` - **операторы** с помощью которых, **управляются** *стандартные потоки* и *передачи* их между программами
- `grep` - **работа с историей**

## Права доступа к объектам файловой системы

В **Linux** **права доступа** к объектам файловой системы **делятся** на **три группы** - *для владельца*, *группы* и *всех остальных*. В каждой из групп может быть **3 бита** доступа: *на чтение* (`r`), *запись и изменение* (`w`) и *выполение* (`x`). **Посмотреть** **текущие права** доступа к файлу можно с помощью **команды** **`ls`** **с параметром** **`-l`**.

- `chmod` - **утилита**, с помощью которой, **можно модифицировать** **права доступа**. Её в качетсве **параметров** **передаются** **изменения** **в текущих правах** для каждой из **трёх групп доступа** или для **всех сразу**. Например, **для снятия бита** **выполения** для *владельца*, *группы* и *всех прочих пользователей* используется команда:
`chmod a-x document.txt`,
 а для **редактирования** **группы** и **снятия** всех прав для **всех прочих**:
`chmod u+x,g+w,o-rwx somescript.sh`
- `chown` - **утилита**, с помощью которой, **можно изменять** *владельца* и *группу*, которой **принадлежит** **файл**. Ей в качестве **параметра** **передаётся** *имя нового владельца* и/или *новой группы*, которй он будет **принадлежать** и **имя объекта** файловой системы, для которой производится это изменений. Например:
`chown vasya:students secretfile.txt`
